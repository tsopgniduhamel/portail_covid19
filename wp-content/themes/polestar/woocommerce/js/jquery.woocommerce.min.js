jQuery(function(e){e(".woocommerce-ordering select").each(function(){var t=e(this),o=e("<div></div>").html('<span class="current">'+t.find(":selected").html()+"</span>"+polestar_data.chevron_down).addClass("ordering-selector-wrapper").insertAfter(t),i=e("<div/>").addClass("ordering-dropdown-container").appendTo(o),n=e("<ul></ul>").addClass("ordering-dropdown").appendTo(i),d=0;t.find("option").each(function(){var i=e(this);n.append(e("<li></li>").html(i.html()).data("val",i.attr("value")).click(function(){t.val(e(this).data("val")),t.closest("form").submit()})),d=Math.max(o.find(".current").html(i.html()).width(),d)}),o.find(".current").html(t.find(":selected").html()).width(d),t.hide()}),e(".ordering-selector-wrapper").click(function(){e(this).toggleClass("open-dropdown")}),e(window).click(function(t){e(t.target).closest(".ordering-selector-wrapper.open-dropdown").length||e(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),e(".product-quick-view-button").click(function(t){t.preventDefault();var o="#quick-view-container",i="#product-quick-view",n=e(this).attr("data-product-id");e.post(polestar_data.ajaxurl,{action:"polestar_product_quick_view",product_id:n},function(t){e(document).find(o).find(i).html(t)}),e(document).ajaxComplete(function(){e.isFunction(e.fn.flexslider)&&e(".product-images-slider").flexslider({animation:"slide",controlNav:!1,customDirectionNav:e(this).find(".flex-direction-nav a"),start:function(){e(".flexslider .slides img").show()}})}),e(document).find(o).is(":hidden")&&e(document).find(o).find(i).empty(),e(document).find(o).fadeIn(300),e("body").css("margin-right",window.innerWidth-e("body").width()+"px"),e("body").css("overflow","hidden"),e(window).mouseup(function(t){var n=e(i);(!n.is(t.target)&&0===n.has(t.target).length||e(".quickview-close-icon").is(t.target))&&(e(o).fadeOut(300),e("body").css("overflow",""),e("body").css("margin-right",""))}),e(document).keyup(function(t){e(i);27==t.keyCode&&(e(o).fadeOut(300),e("body").css("overflow",""),e("body").css("margin-right",""))})})});